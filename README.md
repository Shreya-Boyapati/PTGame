Policeman and Thief Graph Game
=======================
#### The goal of this algorithm is to provide an interesting two-player game across a graph.

Author
---
Shreya Boyapati

sboyap2@uic.edu

Overview
---
* Policeman and Thief Game can be found at [https://github.com/Shreya-Boyapati/hw3/tree/main]
* Main.scala contains functionality for graph generation and game initialization
  * Recreates orig graph and perturbed graph created by [NetGameSim](https://github.com/0x1DOCD00D/NetGameSim) and performs simrank algorithm
  * Starts the http server on the port and bootstraps it
  * Assigns the policeman and thief players to their starting nodes
* Registry.scala contains game functionality and responses to http requests
  * On command `curl http://localhost:8080/users`, initializes the game and prints start-of-game information
  * On command `curl http://localhost:8080/users/NODE`, attempts to move player to the node given
  * Evaluates for win/lose conditions - thief getting valuable data, policeman catching thief, invalid move made, etc.
  * On each turn, displays information about the players' positions, neighboring nodes (from perturbed graph), and modified nodes between original and perturbed graphs

Running the game should give log entries that look something like this:
 ```
11:19:16.618 [AkkaHttpServer-akka.actor.default-dispatcher-3] INFO main -- Server online!
11:19:29.159 [AkkaHttpServer-akka.actor.default-dispatcher-3] INFO main -- The game has begun! Policeman is at 6 and thief is at 5
11:19:29.159 [AkkaHttpServer-akka.actor.default-dispatcher-3] INFO main -- Policeman plays first.

11:19:29.159 [AkkaHttpServer-akka.actor.default-dispatcher-3] INFO main -- Policeman is at 6 and thief is at 5
11:19:29.159 [AkkaHttpServer-akka.actor.default-dispatcher-3] INFO main -- Node and edge info...
11:19:29.159 [AkkaHttpServer-akka.actor.default-dispatcher-3] INFO main -- Nodes adjacent to policeman are [8, 11, 9, 12, 7, 10]
11:19:29.159 [AkkaHttpServer-akka.actor.default-dispatcher-3] INFO main -- Nodes adjacent to thief are [4, 0]
11:19:29.159 [AkkaHttpServer-akka.actor.default-dispatcher-3] INFO main -- Nodes 13, 14, 15, 16 have been modified.
11:19:36.047 [AkkaHttpServer-akka.actor.default-dispatcher-10] INFO main -- Move made to node 0
11:19:36.047 [AkkaHttpServer-akka.actor.default-dispatcher-10] INFO main -- Invalid move. Game over.
11:19:36.047 [AkkaHttpServer-akka.actor.default-dispatcher-10] INFO main -- Thief wins!
```
The terminal from which commands are run may look something like this:
```
shreyaboyapati@Shreyas-MacBook-Air ~ % curl http://localhost:8080/users  
{"description":"Game has begun!"}%
shreyaboyapati@Shreyas-MacBook-Air ~ % curl http://localhost:8080/users/0
{"description":"Move to node 0 attempted!"}%  
```

* Scalatest dependency is used for testing
* Typesafe configuration dependency is used to manage configuration options in application.conf and application-test.conf
* Logback classic dependency is used for logging
* Curl commands are used to make http requests

Commands
---
Initialize game:

    `curl http://localhost:8080/users`

Make a move to node NODE:

    `curl http://localhost:8080/users/NODE`

File Generation
---
* Files for this project are generated by [graphGenerator](https://github.com/Shreya-Boyapati/graphGenerator)
* graphGenerator is a modification of NetGameSim which outputs files in .txt format
* Output file is a collection of nodes, edges, and valuableData values to be reconstructed into MutableValueGraph graphs

Configuration
---
* application.conf contains parameters necessary for game execution
  * shardsFile - input file created by graphGenerator
  * routes.ask-timeout - timeout value for getting responses from http request
 
  The file currently used is given here as [input.txt](https://github.com/Shreya-Boyapati/hw3/blob/main/src/main/resources/input.txt)

Installing, Compiling and Running random walker 
---
* To build from the command line [SBT](https://www.scala-sbt.org/release/docs/Setup.html), [Scala](https://www.scala-lang.org/download/) and a [JDK/JVM](https://docs.oracle.com/en/java/javase/) should be installed and configured
* To make http requests/use curl commands, http and curl should be installed with `brew install ` or windows equivalent
* Once all prerequisites are met, clone [hw3](https://github.com/Shreya-Boyapati/hw3/tree/main) using the command ```git clone```;
* Once the repository is cloned, assuming its local path is the root directory ```/path/to/the/cloned/hw3``` open a terminal window and switch to the directory ```cd /path/to/the/cloned/hw3```;
* Build and run the project using the command ```sbt clean compile run```
* Alternatively, you can load the project into IntelliJ and compile and run it using the main entry point in [Main.scala](src/main/scala/Main.scala). Make sure it is loaded as an sbt project.
* You should make sure that the Java version that is used to compile this project matches the JVM version that is used to run the generated program jar from the command line, otherwise you may receive an error.

Testing
---
Testing on game was done using [Scalatest](https://github.com/scalatest/) dependency. Tests can be found in src/tests/scala
  1. routertest - suite of four tests for http commands
  2. simranktest
